/**
 * BASE - v2.5.11
 * BASE Function JS
 * update: 2016-04-05
 * homepage: http://tangzhengwen.com/
 * author: Don, email: tangzhengwen279@gmail.com
 */

!function(e,t){"object"==typeof module&&module.exports?module.exports=t():this[e]=t()}("BASE",function(){function e(e,t){if("string"==typeof e){var n,r="",i=t?"gi":"g";return M.search.toString().replace(new RegExp("[?&]"+e+"=[^&]+",i),function(e){n=e.split("=")[1],n&&(r=decodeURIComponent(n))}),r}}function t(e,t){if("string"!=typeof e)return e;if("object"!=typeof t)return e;e+=e.indexOf("?")<0?"?":"&";for(var n in t)void 0!==t[n]&&(e+=n+"="+encodeURIComponent(t[n])+"&");var r=e.length;return"&"!==e[r-1]&&"?"!==e[r-1]||(e=e.slice(0,r-1)),e}function n(e,t,r,i){function o(o){"object"==typeof t[o]?"object"==typeof e[o]?n(e[o],t[o],r,i):e[o]=t[o]:void 0!==t[f]&&(e[o]=t[o])}if("object"==typeof e&&"object"==typeof t){var a=t;r&&(a=e);for(var f in a)i?o(f):void 0!==t[f]&&(e[f]=t[f]);return e}}function r(e){var t;try{t=JSON.parse(e)}catch(n){}return t}function i(e,t,n){var r;try{r=JSON.stringify(e,t,n)}catch(i){}return r}function o(e,t,n){if("string"==typeof e&&"string"==typeof t){var r=0;if(t===e)return r;var i=".";n&&"string"==typeof n&&(i=n);var o=t.split(i),a=e.split(i),f=o.length;a.length<f&&(f=a.length);for(var s=0;f>s;s++){if(a[s]-0>o[s]-0){r=1;break}if(a[s]-0<o[s]-0){r=-1;break}}return r}}function a(e,t){var n;if((e||0===e)&&!isNaN(e-0)){t&&"number"==typeof t||(t=0);for(var r=1,i=0;t>i;i++)r*=10;n=Math.round(e*r)/r}return n}function f(e,t){if(e){var n=e.originalEvent,r=e.changedTouches;return"Y"!==t&&"y"!==t&&(t="X"),t=t.toUpperCase(),r||n&&n.changedTouches?n?n.changedTouches[0]["page"+t]:r[0]["page"+t]:e["page"+t]}}function s(e,t){if(e&&"string"==typeof e&&(t-=0,t&&!isNaN(t))){var n,r;return e.replace(/-?\d+\.?\d*px/g,function(e){return n=parseFloat(e),1===n||-1===n||0===n?n+"px":(r=n*t,r>0&&1>r?r=1:r>-1&&0>r&&(r=-1),r+"px")})}}function c(e){function t(e){if(r){r[0]&&(r=r[0]);var t;try{t=0===e.indexOf("#")?r.getElementById(e.substring(1)):0===e.indexOf(".")?r.getElementsByClassName(e.substring(1)):r.getElementsByTagName(e)}catch(n){}return t}}if("string"==typeof e){for(var n=e.split(" "),r=H,i=0;i<n.length;i++)r=t(n[i]);return r}}function u(e,t,n,r){if(!e&&(e="div"),"string"==typeof e){var i=H.createElement(e);return n&&"string"==typeof n&&(i.id=n),r&&"string"==typeof r&&(i.className=r),t&&t.appendChild&&t.appendChild(i),i}}function l(e,t){e&&("string"!=typeof t&&"number"!=typeof t||(t+="",void 0!==e.innerText?e.innerText=t:void 0!==e.textContent&&(e.textContent=t)))}function d(e,t){return e&&e.style?"display"===t?e.style.display:void(t?e.style.display="string"==typeof t?t:"block":e.style.display="none"):void 0}function p(e,t){if(e)if(t){var n=e.parentNode;n&&n.removeChild&&n.removeChild(e)}else if(e.removeChild)for(;e.firstChild;)e.removeChild(e.firstChild)}function g(e,t){return e&&t?e.parentElement?e.parentElement===t?!0:e.parentElement===H.body?!1:void g(e.parentElement,t):!1:void 0}function y(e,t,n){if(e&&"string"==typeof t){var r=e[X];if(r){for(var i,o=r.split(" "),a="",f=0;f<o.length;f++)o[f]===t&&(i=1,"del"===n)||(a+=o[f]+" ");if(!/^add|del$/.test(n))return i;"add"===n&&!i&&(a+=t)," "===a[a.length-1]&&(a=a.slice(0,a.length-1)),e[X]=a}else{if(!/^add|del$/.test(n))return;"add"===n&&(e[X]=t)}}}function v(e,t,n){return"function"==typeof e?e(t,n):void 0}function h(){var e;return e=k.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function m(e){if("string"==typeof e){for(var t,n=e.slice(0,1),r=e.slice(1),i=n.toUpperCase()+r,o=n.toLowerCase()+r,a=u("modernizr")[A],f=["webkit"+i,o,"Moz"+i,"O"+i,"ms"+i],s=0;s<f.length;s++)if(void 0!==a[f[s]]){t=f[s];break}return t}}function x(e,t,n){e.status>=200&&e.status<300?v(t,e.responseText):v(n,e.status)}function E(e,t,n){function r(e){if(clearInterval(a),v(n),!e);}if(t-=0,!isNaN(t))var i=new Date,o=3e3,a=setInterval(function(){H.styleSheets.length>t?e?H.getElementById(e)?r():new Date-i>o&&r(1):r():new Date-i>o&&r(1)},10)}function N(e,t){function n(){i=r(i),i=i[t]}if(k.localStorage&&"string"==typeof e){var i=localStorage.getItem(e);if(i)return t&&n(),i}}function C(e,t){k.localStorage&&"string"==typeof e&&void 0!==t&&null!==t&&("object"==typeof t?t=i(t):t+="",t&&localStorage.setItem(e,t))}function T(e){function n(){function e(){s=setTimeout(function(){E||(m.onreadystatechange=null,v(g,"timeout")),clearTimeout(s)},d),r()}function t(){s=setTimeout(function(){r(),x(m,y,g),clearTimeout(s)},d)}u?e():t()}function r(){m.open(l,c,u),m.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),m.send(p)}function i(){m.onreadystatechange=function(){4===m.readyState&&(E=!0,clearTimeout(s),x(m,y,g))}}function o(){d||x(m,y,g)}if(e&&"object"==typeof e){var a={url:"",data:null,method:"GET",async:!0,send:null,timeout:null,error:null,success:null};for(var f in e)a[f]=e[f];var s,c=t(a.url,a.data),u=a.async,l=a.method,d=a.timeout,p=a.send,g=a.error,y=a.success,m=h(),E=!1;return d?n():r(),u?i():o(),m}}function S(e,t,n){function r(){x(o,t,function(e){v(t)})}if(!e||"string"!=typeof e)return void v(t);var i=!n,o=h();o.open("GET",e,i),o.send(),i?o.onreadystatechange=function(){4===o.readyState&&r()}:r()}function b(e,t,n){function r(){var r=H.body,i=H.createElement("script");t&&(i.id=t),i.type="text/javascript",i.charset="utf-8",i.src=e,r.appendChild(i),i.onload=function(){v(n)}}return e&&"string"==typeof e?t&&H.getElementById(t)?void v(n):void r():void v(n)}function w(e,t,n){function r(){var r=H.getElementsByTagName("head")[0],i=H.styleSheets.length,o=H.createElement("link");t&&(o.id=t),o.type="text/css",o.rel="stylesheet",o.href=e,r.appendChild(o),E(t,i,n)}return e&&"string"==typeof e?t&&H.getElementById(t)?void v(n):void r():void v(n)}function j(e,t,n){if(!e||"string"!=typeof e)return void v(n);if(t&&H.getElementById(t))return void v(n);var r=H.getElementsByTagName("head")[0],i=H.styleSheets.length,o=H.createElement("style");o.type="text/css",t&&(o.id=t);try{o.appendChild(H.createTextNode(e))}catch(a){o.styleSheet.cssText=e}r.appendChild(o),E(t,i,n)}function R(e,t,n,r,i,o){function a(i){var o=s(e,t[i]/n);c+=(r?f+"height:":f+"width:")+(t[i]-1)+"px){"+o+"}"}if(!e||"string"!=typeof e||!t||!t.length||!n||isNaN(n-0))return void v(o);for(var f="@media(min-",c="",u=0;u<t.length;u++)a(u);j(c,i,o)}function I(e,t,n,r,i,o){if(!e||"string"!=typeof e||!t||isNaN(t-0)||!n||isNaN(n-0))return void v(o);var a="@media(",f=(i?i:"css")+"-"+t;if(H.getElementById(f))return v(o);var c=s(e,t/n),u=(r?a+"height:":a+"width:")+t+"px){"+c+"}";j(u,f,o)}function B(e,t,n,r,i){function o(){function o(){v(n),k[L]("resize",function(){f=U(i,a),f&&I(e,f,r,i,t)})}var f=U(i,a);return f?void I(e,f,r,i,t,o):o()}if(!e||"string"!=typeof e)return void v(n);q.adpType=i?"height":"width",isNaN(r-0)&&(r=i?690:480);var a=i?P:z;R(e,a,r,i,t,o)}function O(e,t,n,r,i){function o(){f=k.innerWidth/k.innerHeight>r/i,s=f?i:r,c=f?P:z,q.adpType="rate-"+(f?"h":"w")}function a(){function r(){v(n),k[L]("resize",function(){o(),I(e,U(f),s,f,t+(f?"-h":"-w"))})}var i=U(f,c);return i?void I(e,i,s,f,t,r):r()}if(!e||"string"!=typeof e)return void v(n);!t&&(t="css"),isNaN(r-0)&&(r=480),isNaN(i-0)&&(i=690);var f,s,c;o(),R(e,c,s,f,t,a)}function U(e,t){var n=e?k.innerHeight:k.innerWidth;if(t)for(var r=0;r<t.length;r++)if(n===t[r])return;return n}var k=window,H=document,M=(navigator,location),X="className",A="style",L="addEventListener",z=[320,360,480,540,640,720,768,800,1080],P=[300,400,450,500,600,650,690,750,800],q={isTouch:"ontouchstart"in k},D={cfg:q,getUrl:e,concatUrl:t,extendObj:n,jsonParse:r,jsonStringify:i,strCompare:o,dataRound:a,getCoord:f,cssPxChange:s,execFun:v,newXhr:h,getEle:c,creEle:u,txtEle:l,disEle:d,rmvEle:p,parEle:g,dealCls:y,getPrefix:m,xhrRes:x,styleReady:E,getStorage:N,setStorage:C,ajax:T,txtReader:S,jsReader:b,cssReader:w,createStyle:j,adpAryScopeStyle:R,adpOneAbsStyle:I,adpAllStyle:B,adpRateStyle:O};return D});