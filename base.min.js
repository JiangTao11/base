/**
 * BASE - v2.5.4
 * author: Don
 * update: 2015-10-26
 * copyright: http://tangzhengwen.com
 */
!function(a,b){"object"==typeof module&&module.exports?module.exports=b():this[a]=b()}("BASE",function(){function a(a,b){if("string"==typeof a){var c,d="",e=b?"gi":"g";return decodeURIComponent(J.search).toString().replace(new RegExp("[?&]"+a+"=[^&]+",e),function(a){c=a.split("=")[1],c&&(d=c)}),d}}function b(a,b){if("string"!=typeof a)return a;if("object"!=typeof b)return a;a+=a.indexOf("?")<0?"?":"&";for(var c in b)a+=c+"="+b[c]+"&";var d=a.length;return("&"===a[d-1]||"?"===a[d-1])&&(a=a.slice(0,d-1)),a}function c(a,b,c,d){function e(c){if("object"==typeof b[c])if("object"==typeof a[c])for(var d in b[c])a[c][d]=b[c][d];else a[c]=b[c];else void 0!==b[g]&&(a[c]=b[c])}if("object"==typeof a&&"object"==typeof b){var f=b;c&&(f=a);for(var g in f)d?e(g):void 0!==b[g]&&(a[g]=b[g])}}function d(a){var b;try{b=JSON.parse(a)}catch(c){}return b}function e(a){var b;try{b=JSON.stringify(a)}catch(c){}return b}function f(a,b,c){if("string"==typeof a&&"string"==typeof b){var d=0;if(b===a)return d;var e=".";c&&"string"==typeof c&&(e=c);var f=b.split(e),g=a.split(e),h=f.length;g.length<h&&(h=g.length);for(var i=0;h>i;i++){if(g[i]-0>f[i]-0){d=1;break}if(g[i]-0<f[i]-0){d=-1;break}}return d}}function g(a,b){var c;if((a||0===a)&&!isNaN(a-0)){b&&"number"==typeof b||(b=0);for(var d=1,e=0;b>e;e++)d*=10;c=Math.round(a*d)/d}return c}function h(a,b){if(a){var c=a.originalEvent,d=a.changedTouches;return"Y"!==b&&"y"!==b&&(b="X"),b=b.toUpperCase(),d||c&&c.changedTouches?c?c.changedTouches[0]["page"+b]:d[0]["page"+b]:a["page"+b]}}function i(a,b){if(a&&"string"==typeof a&&(b-=0,b&&!isNaN(b))){var c,d;return a.replace(/-?\d+\.?\d*px/g,function(a){return c=parseFloat(a),1===c||-1===c||0===c?c+"px":(d=c*b,d>0&&1>d?d=1:d>-1&&0>d&&(d=-1),d+"px")})}}function j(a){function b(a){if(d){d[0]&&(d=d[0]);var b;try{b=0===a.indexOf("#")?d.getElementById(a.substring(1)):0===a.indexOf(".")?d.getElementsByClassName(a.substring(1)):d.getElementsByTagName(a)}catch(c){}return b}}if("string"==typeof a){for(var c=a.split(" "),d=I,e=0;e<c.length;e++)d=b(c[e]);return d}}function k(a,b,c,d){if(!a&&(a="div"),"string"==typeof a){var e=I.createElement(a);return c&&"string"==typeof c&&(e.id=c),d&&"string"==typeof d&&(e.className=d),b&&b.appendChild&&b.appendChild(e),e}}function l(a,b){a&&("string"==typeof b||"number"==typeof b)&&(b+="",void 0!==a.innerText?a.innerText=b:void 0!==a.textContent&&(a.textContent=b))}function m(a,b){return a&&a.style?"display"===b?a.style.display:void(b?a.style.display="string"==typeof b?b:"block":a.style.display="none"):void 0}function n(a,b){if(a)if(b){var c=a.parentNode;c&&c.removeChild&&c.removeChild(a)}else if(a.removeChild)for(;a.firstChild;)a.removeChild(a.firstChild)}function o(a,b){return a&&b?a.parentElement?a.parentElement===b?!0:a.parentElement===I.body?!1:void o(a.parentElement,b):!1:void 0}function p(a,b,c){if(a&&"string"==typeof b){var d=a[K];if(d){for(var e,f=d.split(" "),g="",h=0;h<f.length;h++)(f[h]!==b||(e=1,"del"!==c))&&(g+=f[h]+" ");if(!/^add|del$/.test(c))return e;"add"===c&&!e&&(g+=b)," "===g[g.length-1]&&(g=g.slice(0,g.length-1)),a[K]=g}else{if(!/^add|del$/.test(c))return;"add"===c&&(a[K]=b)}}}function q(a,b,c){"function"==typeof a&&a(b,c)}function r(){var a;return a=H.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function s(a){if("string"==typeof a){for(var b,c=a.slice(0,1),d=a.slice(1),e=c.toUpperCase()+d,f=c.toLowerCase()+d,g=k("modernizr")[L],h=["webkit"+e,f,"Moz"+e,"O"+e,"ms"+e],i=0;i<h.length;i++)if(void 0!==g[h[i]]){b=h[i];break}return b}}function t(a,b,c){a.status>=200&&a.status<300?q(b,a.responseText):q(c,a.status)}function u(a,b,c){function d(a){if(clearInterval(g),q(c),!a);}if(b-=0,!isNaN(b))var e=new Date,f=3e3,g=setInterval(function(){I.styleSheets.length>b?a?I.getElementById(a)?d():new Date-e>f&&d(1):d():new Date-e>f&&d(1)},10)}function v(a,b){function c(){e=d(e),e=e[b]}if(H.localStorage&&"string"==typeof a){var e=localStorage.getItem(a);if(e)return b&&c(),e}}function w(a,b){H.localStorage&&"string"==typeof a&&void 0!==b&&null!==b&&("object"==typeof b?b=e(b):b+="",b&&localStorage.setItem(a,b))}function x(a){function c(){function a(){i=setTimeout(function(){u||(s.onreadystatechange=null,q(o,"timeout")),clearTimeout(i)},m),d()}function b(){i=setTimeout(function(){d(),t(s,p,o),clearTimeout(i)},m)}k?a():b()}function d(){s.open(l,j,k),s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),s.send(n)}function e(){s.onreadystatechange=function(){4===s.readyState&&(u=!0,clearTimeout(i),t(s,p,o))}}function f(){m||t(s,p,o)}if(a&&"object"==typeof a){var g={url:"",data:null,method:"GET",async:!0,send:null,timeout:null,error:null,success:null};for(var h in a)g[h]=a[h];var i,j=b(g.url,g.data),k=g.async,l=g.method,m=g.timeout,n=g.send,o=g.error,p=g.success,s=r(),u=!1;return m?c():d(),k?e():f(),s}}function y(a,b,c){function d(){t(f,b,function(a){q(b)})}if(!a||"string"!=typeof a)return void q(b);var e=c?!1:!0,f=r();f.open("GET",a,e),f.send(),e?f.onreadystatechange=function(){4===f.readyState&&d()}:d()}function z(a,b,c){function d(){var d=I.body,e=I.createElement("script");b&&(e.id=b),e.type="text/javascript",e.charset="utf-8",e.src=a,d.appendChild(e),e.onload=function(){q(c)}}return a&&"string"==typeof a?b&&I.getElementById(b)?void q(c):void d():void q(c)}function A(a,b,c){function d(){var d=I.getElementsByTagName("head")[0],e=I.styleSheets.length,f=I.createElement("link");b&&(f.id=b),f.type="text/css",f.rel="stylesheet",f.href=a,d.appendChild(f),u(b,e,c)}return a&&"string"==typeof a?b&&I.getElementById(b)?void q(c):void d():void q(c)}function B(a,b,c){if(!a||"string"!=typeof a)return void q(c);if(b&&I.getElementById(b))return void q(c);var d=I.getElementsByTagName("head")[0],e=I.styleSheets.length,f=I.createElement("style");f.type="text/css",b&&(f.id=b);try{f.appendChild(I.createTextNode(a))}catch(g){f.styleSheet.cssText=a}d.appendChild(f),u(b,e,c)}function C(a,b,c,d,e,f){function g(e){var f=i(a,b[e]/c);j+=(d?h+"height:":h+"width:")+(b[e]-1)+"px){"+f+"}"}if(!a||"string"!=typeof a||!b||!b.length||!c||isNaN(c-0))return void q(f);for(var h="@media(min-",j="",k=0;k<b.length;k++)g(k);B(j,e,f)}function D(a,b,c,d,e,f){if(!a||"string"!=typeof a||!b||isNaN(b-0)||!c||isNaN(c-0))return void q(f);var g="@media(",h=(e?e:"css")+"-"+b;if(I.getElementById(h))return q(f);var j=i(a,b/c),k=(d?g+"height:":g+"width:")+b+"px){"+j+"}";B(k,h,f)}function E(a,b,c,d,e){function f(){function f(){q(c),H[M]("resize",function(){h=G(e,g),h&&D(a,h,d,e,b)})}var h=G(e,g);return h?void D(a,h,d,e,b,f):f()}if(!a||"string"!=typeof a)return void q(c);P.adpType=e?"height":"width",isNaN(d-0)&&(d=e?690:480);var g=e?O:N;C(a,g,d,e,b,f)}function F(a,b,c,d,e){function f(){h=H.innerWidth/H.innerHeight>d/e,i=h?e:d,j=h?O:N,P.adpType="rate-"+(h?"h":"w")}function g(){function d(){q(c),H[M]("resize",function(){f(),D(a,G(h),i,h,b+(h?"-h":"-w"))})}var e=G(h,j);return e?void D(a,e,i,h,b,d):d()}if(!a||"string"!=typeof a)return void q(c);!b&&(b="css"),isNaN(d-0)&&(d=480),isNaN(e-0)&&(e=690);var h,i,j;f(),C(a,j,i,h,b,g)}function G(a,b){var c=a?H.innerHeight:H.innerWidth;if(b)for(var d=0;d<b.length;d++)if(c===b[d])return;return c}var H=window,I=document,J=(navigator,location),K="className",L="style",M="addEventListener",N=[320,360,480,540,640,720,768,800,1080],O=[300,400,450,500,600,650,690,750,800],P={isTouch:"ontouchstart"in H},Q={cfg:P,getUrl:a,concatUrl:b,extendObj:c,jsonParse:d,jsonStringify:e,strCompare:f,dataRound:g,getCoord:h,cssPxChange:i,execFun:q,newXhr:r,getEle:j,creEle:k,txtEle:l,disEle:m,rmvEle:n,parEle:o,dealCls:p,getPrefix:s,xhrRes:t,styleReady:u,getStorage:v,setStorage:w,ajax:x,txtReader:y,jsReader:z,cssReader:A,createStyle:B,adpAryScopeStyle:C,adpOneAbsStyle:D,adpAllStyle:E,adpRateStyle:F};return Q});